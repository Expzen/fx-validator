!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fxvalidator=e():t.fxvalidator=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"FxValidator",(function(){return f}));var n={required:function(t){return null!==t&&""!==t&&void 0!==t},maxlen:function(t,e){return!("string"!=typeof t&&!Array.isArray(t))&&t.length<=e},minlen:function(t,e){return!("string"!=typeof t&&!Array.isArray(t))&&t.length>=e},within:function(t,e){return!!Array.isArray(e)&&e.findIndex((function(e){return e==t}))>=0},max:function(t,e){return Number(t)<=Number(e)},min:function(t,e){return Number(t)>=Number(e)},without:function(t,e){return!Array.isArray(e)||e.findIndex((function(e){return e==t}))<0},regex:function(t,e){return"string"==typeof e&&(e=RegExp(e)),e instanceof RegExp?e.test(t):(console.error("Regular expression error, validator value is not a RegExp object or pattern string"),!1)}},i={required:"必填欄位",maxlen:"不應長於 %v",minlen:"不應短於 %v",max:"應不大於 %v",min:"應不小於 %v",within:"該值不在可用範圍內",without:"該值不可在指定範圍內",default:"未通過 %k 驗證"};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,r){this.model=t,this.key=r,this.result={invalid:!1,messages:[],validators:{}},Object.assign(this.model,{result:this.result});Object.defineProperty(this,"data",{configurable:!0,get:function(){switch(o(e)){case"object":return e[r];case"function":return e()[r];default:return""}},set:function(t){switch(o(e)){case"object":e[r]=t,this.validate();break;case"function":e()[r]=t,this.validate()}}})}function s(t){var e=t.msg;if("string"!=typeof e&&(e=i[t.key]),"string"==typeof e)return e.replace(/%v/g,t.value).replace(/%k/g,t.key).replace(/%d/g,t.data)}a.prototype.validate=function(){var t,e,r,i=!0;for(var a in this.clearMessage(),this.model.rules){var u=this.model.rules[a],l=!0,f="function"==typeof u.value?u.value():u.value,c=this.data;if(n[a]&&(l=n[a](c,f),i=i&&l),"object"!=o(this.result[a])&&Object.assign(this.result.validators,(r={invalid:!1},(e=a)in(t={})?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t)),l)this.result.validators[a].invalid=!1;else{var d=s({key:a,value:f,msg:u.message,data:c||""});this.result.messages.push(d),this.result.validators[a].invalid=!0}}return this.result.invalid=!i,i},a.prototype.clearMessage=function(){this.result.messages.splice(0,this.result.messages.length)},a.prototype.dispose=function(){delete this.model,delete this.key,delete this.data};var u=a;function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){this.targets={},this.data=null,this.validation={},this.bind(t,e),Object.defineProperty(this,"invalid",{get:function(){for(var t in this.targets){if(Object.hasOwnProperty.call(this.targets,t))if(this.targets[t].invalid)return!0}return!1}})}f.prototype.bind=function(t,e){if("object"==l(t)||"function"==typeof t)switch(l(t)){case"object":this.data=function(){return t};break;case"function":this.data=t}else if(null==this.data)return;if("object"==l(e)&&(this.validation=e),"object"==l(this.validation))for(var r in this.unbind(),this.validation)if(Object.hasOwnProperty.call(this.validation,r)&&"$"!=r[0]){var n=this.validation[r];this.targets[r]=new u(n,this.data,r)}},f.prototype.unbind=function(){for(var t in this.targets)Object.hasOwnProperty.call(this.targets,t)&&"$"!=t[0]&&("function"==typeof this.targets[t].dispose&&this.targets[t].dispose(),delete this.targets[t])},f.prototype.validate=function(){var t=!1;for(var e in this.targets){var r=this.targets[e];if(r instanceof u){var n=r.validate();t=t||!n}}return this.validation.$invalid=t,!t},f.prototype.cleanMessage=function(){for(var t in this.targets){var e=this.targets[t];e instanceof u&&e.cleanMessage()}},f.validationMessages=i}])}));